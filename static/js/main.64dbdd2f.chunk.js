(this["webpackJsonpdesigner-tools"]=this["webpackJsonpdesigner-tools"]||[]).push([[0],{16:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a,c=n(2),r=n.n(c),s=n(7),o=n.n(s),i=(n(16),n(6)),b=n.n(i),j=n(8),d=n(3),f=n(11),u=n(0),l=n(9),O=n(10),p=n.n(O);!function(e){e.Vest="Vest",e.Arm="Arm",e.Foot="Foot",e.Hand="Hand",e.Head="Head",e.Unknown="Unknown"}(a||(a={}));var m=n(1),x=[3,2,1,0,7,6,5,4,11,10,9,8,15,14,13,12,19,18,17,16],h=function(e){var t=e.dotMode.feedback.map((function(e){return e.pointList?Object(u.a)(Object(u.a)({},e),{},{pointList:e.pointList.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{index:(t=e.index,x[t])});var t}))}):e})),n=e.pathMode.feedback.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{pointList:e.pointList.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{x:(1-parseFloat(e.x)).toFixed(3)})}))})}));return Object(u.a)(Object(u.a)({},e),{},{dotMode:Object(u.a)(Object(u.a)({},e.dotMode),{},{feedback:t}),pathMode:Object(u.a)(Object(u.a)({},e.pathMode),{},{feedback:n})})},v=function(){var e=Object(c.useState)({files:[],suffix:"_Mirror"}),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"file",multiple:!0,accept:".tact",onChange:function(e){if(e.target.files)for(var t=[],c=e.target.files.length,s=0,o=function(o){var i=e.target.files[o],b=new FileReader;b.onloadend=function(e){var o=b.result;if(s++,"string"===typeof o){var j=JSON.parse(o),f=j.project.layout.name,l=a.Unknown;"Vest"===f||"Tactot"===f?l=a.Vest:f.startsWith("Tactosy")?l=a.Arm:f.startsWith("Hand")?l=a.Hand:f.startsWith("Foot")&&(l=a.Foot);var O=Object(u.a)(Object(u.a)({},j),{},{project:Object(u.a)(Object(u.a)({},j.project),{},{tracks:j.project.tracks.map((function(e){var t=Object(u.a)(Object(u.a)({},e),{},{effects:e.effects.map((function(e){var t,n,c=Object.keys(e.modes),r=c[0],s=c[1];return l===a.Foot||l===a.Hand||l===a.Arm?Object(u.a)(Object(u.a)({},e),{},{modes:(t={},Object(d.a)(t,r,e.modes[s]),Object(d.a)(t,s,e.modes[r]),t)}):l===a.Vest?Object(u.a)(Object(u.a)({},e),{},{modes:(n={},Object(d.a)(n,r,h(e.modes[r])),Object(d.a)(n,s,h(e.modes[s])),n)}):Object(u.a)({},e)}))});return Object(u.a)({},t)}))})});t.push({fileName:i.name,type:l,content:JSON.stringify(O)}),s===c&&r(Object(u.a)(Object(u.a)({},n),{},{files:t}))}},b.readAsText(i)},i=0;i<c;i++)o(i)}}),Object(m.jsx)("label",{children:"Suffix : "}),Object(m.jsx)("input",{className:"border rounded",value:n.suffix,onChange:function(e){r(Object(u.a)(Object(u.a)({},n),{},{suffix:e.target.value}))},type:"text"}),Object(m.jsx)("button",{className:"border rounded mx-2 px-4 py-2 bg-blue-500",onClick:Object(j.a)(b.a.mark((function e(){var t,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.files.length){e.next=2;break}return e.abrupt("return");case 2:return t=new p.a,n.files.forEach((function(e){t.file(e.fileName.replace(".tact","")+n.suffix+".tact",e.content)})),e.next=6,t.generateAsync({type:"blob"});case 6:a=e.sent,c=new File([a],"Mirror.zip",{type:"application/zip;charset=utf-8"}),Object(l.saveAs)(c);case 9:case"end":return e.stop()}}),e)}))),children:"Download converted files"})]}),Object(m.jsxs)("div",{children:[n.files.map((function(e){return Object(m.jsx)("div",{className:"my-2 border-b rounded",children:Object(m.jsxs)("div",{children:[e.fileName,Object(m.jsx)("label",{className:"mx-2",children:e.type})]})},e.fileName)})),Object(m.jsx)("div",{})]})]})};var g=function(){return Object(m.jsxs)("div",{className:"mx-auto max-w-screen-xl h-screen bg-gray-100",children:[Object(m.jsx)("div",{className:"text-2xl mx-4 py-2",children:"Convert Tool"}),Object(m.jsx)(v,{})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root")),y()}},[[26,1,2]]]);
//# sourceMappingURL=main.64dbdd2f.chunk.js.map