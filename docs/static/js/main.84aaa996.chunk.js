(this["webpackJsonpdesigner-tools"]=this["webpackJsonpdesigner-tools"]||[]).push([[0],{23:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),s=n(12),o=n.n(s),i=(n(23),n(17)),b=n(9),j=n.n(b),d=n(13),f=n(4),u=n(18),l=n(1),O=n(14),p=n(15),x=n.n(p);!function(e){e.Vest="Vest",e.Arm="Arm",e.Foot="Foot",e.Hand="Hand",e.Head="Head",e.Unknown="Unknown"}(a||(a={}));var m=n(2),h=[3,2,1,0,7,6,5,4,11,10,9,8,15,14,13,12,19,18,17,16],v=function(e){var t=e.dotMode.feedback.map((function(e){return e.pointList?Object(l.a)(Object(l.a)({},e),{},{pointList:e.pointList.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{index:(t=e.index,h[t])});var t}))}):e})),n=e.pathMode.feedback.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{pointList:e.pointList.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{x:(1-parseFloat(e.x)).toFixed(3)})}))})}));return Object(l.a)(Object(l.a)({},e),{},{dotMode:Object(l.a)(Object(l.a)({},e.dotMode),{},{feedback:t}),pathMode:Object(l.a)(Object(l.a)({},e.pathMode),{},{feedback:n})})},g=function(){var e=Object(c.useState)({files:[],suffix:"_Mirror"}),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"file",multiple:!0,accept:".tact",onChange:function(e){if(e.target.files)for(var t=[],c=e.target.files.length,s=0,o=function(o){var i=e.target.files[o],b=new FileReader;b.onloadend=function(e){var o=b.result;if(s++,"string"===typeof o){var j=JSON.parse(o),d=j.project.layout.name,u=a.Unknown;"Vest"===d||"Tactot"===d?u=a.Vest:d.startsWith("Tactosy")?u=a.Arm:d.startsWith("Hand")?u=a.Hand:d.startsWith("Foot")&&(u=a.Foot);var O=Object(l.a)(Object(l.a)({},j),{},{project:Object(l.a)(Object(l.a)({},j.project),{},{tracks:j.project.tracks.map((function(e){var t=Object(l.a)(Object(l.a)({},e),{},{effects:e.effects.map((function(e){var t,n,c=Object.keys(e.modes),r=c[0],s=c[1];return u===a.Foot||u===a.Hand||u===a.Arm?Object(l.a)(Object(l.a)({},e),{},{modes:(t={},Object(f.a)(t,r,e.modes[s]),Object(f.a)(t,s,e.modes[r]),t)}):u===a.Vest?Object(l.a)(Object(l.a)({},e),{},{modes:(n={},Object(f.a)(n,r,v(e.modes[r])),Object(f.a)(n,s,v(e.modes[s])),n)}):Object(l.a)({},e)}))});return Object(l.a)({},t)}))})});t.push({fileName:i.name,type:u,content:JSON.stringify(O)}),s===c&&r(Object(l.a)(Object(l.a)({},n),{},{files:t}))}},b.readAsText(i)},i=0;i<c;i++)o(i)}}),Object(m.jsx)("label",{children:"Suffix : "}),Object(m.jsx)("input",{className:"border rounded",value:n.suffix,onChange:function(e){r(Object(l.a)(Object(l.a)({},n),{},{suffix:e.target.value}))},type:"text"}),Object(m.jsx)("button",{className:"border rounded mx-2 px-4 py-2 bg-blue-500",onClick:Object(d.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.files.length){e.next=2;break}return e.abrupt("return");case 2:return t=new x.a,n.files.forEach((function(e){t.file(e.fileName.replace(".tact","")+n.suffix+".tact",e.content)})),e.next=6,t.generateAsync({type:"blob"});case 6:a=e.sent,c=new File([a],"Mirror.zip",{type:"application/zip;charset=utf-8"}),Object(O.saveAs)(c);case 9:case"end":return e.stop()}}),e)}))),children:"Download converted files"})]}),Object(m.jsxs)("div",{children:[n.files.map((function(e){return Object(m.jsx)("div",{className:"my-2 border-b rounded",children:Object(m.jsxs)("div",{children:[e.fileName,Object(m.jsx)("label",{className:"mx-2",children:e.type})]})},e.fileName)})),Object(m.jsx)("div",{})]})]})};var y=function(){return Object(m.jsx)(i.a,{children:Object(m.jsxs)("div",{className:"mx-auto max-w-screen-xl h-screen bg-gray-100",children:[Object(m.jsx)("div",{className:"text-2xl mx-4 py-2",children:"Convert Tool"}),Object(m.jsx)(g,{})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root")),k()}},[[40,1,2]]]);
//# sourceMappingURL=main.84aaa996.chunk.js.map